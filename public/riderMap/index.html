<!DOCTYPE html>
<html>

<head>
  <title>Let It Fly</title>
  <link rel="icon" type="image/gif/png" href="./images/shuttlePlane.png">
  <link rel="stylesheet" href="./css/style.css">
</head>

<body>
  <!--creates the two boxes at top left where user can input origin and destination-->
  <input id="origin-input" class="controls" type="text" placeholder="Enter an origin location">
  <input id="destination-input" class="controls" type="text" placeholder="Enter a destination location">
  <button type="submit" id="submit-button">Submit</button>

  <div id="map"></div>
  <!-- <div id="directionsPanel"></div> -->

  <div id="openModal" class="modalDialog">
    <div>
      <a id="close" href="#close" title="Close" class="close">X</a>
      <h2>Ride Details</h2>
      <p id="estimate">Please Enter Origin And Destination First</p>
      <p id="distance"></p>
      <p id="duration"></p>
      <p id="price"></p>
      <button id="confirm" type="button" class="hidden" data-dismiss="modal">Confirm Ride</button>
      <a href="#close"><button id = "decline" type="button" class="hidden">Decline Ride</button></a>

    </div>

  </div>

  <script>
    // This example requires the Places library. Include the libraries=places
    // parameter when you first load the API. For example:
    // <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&libraries=places">

    function initMap() {

      //creates a new map object with center at blair island
      var map = new google.maps.Map(document.getElementById('map'), {
        center: {
          lat: 37.5209,
          lng: -122.2257
        },
        zoom: 10,
        minZoom: 10,
        MapOptions: true,
        mapTypeControlOptions: {
          style: google.maps.MapTypeControlStyle.HORIZONTAL_BAR,
          position: google.maps.ControlPosition.TOP_LEFT
        },
      });

      var marker_image = new google.maps.MarkerImage(
        "./images/vanMed.png"
      );

      //sjsu
      var marker = new google.maps.Marker({
        position: {
          lat: 37.3352,
          lng: -121.8811
        },
        map: map,
        icon: marker_image
      });

      //milpitas
      var marker = new google.maps.Marker({
        position: {
          lat: 37.4323,
          lng: -121.8996
        },
        map: map,
        icon: marker_image
      });

      //hayward
      var marker = new google.maps.Marker({
        position: {
          lat: 37.6688,
          lng: -122.0808
        },
        map: map,
        icon: marker_image
      });

      //san mateo
      var marker = new google.maps.Marker({
        position: {
          lat: 37.5630,
          lng: -122.3255
        },
        map: map,
        icon: marker_image
      });

      // palo alto
      var marker = new google.maps.Marker({
        position: {
          lat: 37.4419,
          lng: -122.1430
        },
        map: map,
        icon: marker_image
      });


      //lets origin and destination text box auto complete to a place/address
      new AutocompleteDirectionsHandler(map);

      //uses currentLocation.js to add gps button and marker to current locaion
      gps(map);

      // var socket = require('./js/socket');
      // socket.
      io.connect("http://localhost:1600");
      getMapView();
    }
  </script>

  <script type="text/javascript" src="./js/currentLocation.js"></script>
  <script type="text/javascript" src="./js/autocomplete.js"></script>
  <script src="/socket.io/socket.io.js"></script>
  <script type="text/javascript" src="./js/socket.js"></script>
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDNIMuefOw8IFBBjGifWHAMMuSKOC7epj0&libraries=places&callback=initMap" async defer></script>
  <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script> -->

</body>

</html>
